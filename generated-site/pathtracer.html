<!DOCTYPE html><html lang="en" class="serif"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Pathtracing with WebGPU</title><meta property="og:title" content="Pathtracing with WebGPU"><meta property="og:type" content="website"><meta property="og:description" content="WebGPU is the next-gen GPU API for the web, allowing us to unleash the number-crunching capacity of our graphics cards. Let's use it to write a physically-based renderer."><meta name="description" content="WebGPU is the next-gen GPU API for the web, allowing us to unleash the number-crunching capacity of our graphics cards. Let's use it to write a physically-based renderer."><link rel="stylesheet" href="static/stylesheets/highlight-style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><link rel="stylesheet" href="static/stylesheets/main.css"><script defer src="static/scripts/pt.js"></script><script>const loadSetting = name => {
    if(localStorage.getItem(name) === "true")
        document.documentElement.classList.add(name);
    else
        document.documentElement.classList.remove(name);
};

loadSetting("serif");
loadSetting("darkmode");</script><script defer src="static/scripts/ui.js"></script><link rel="icon" type="image/png" sizes="16x16" href="static/images/favicon.png"><link rel="canonical" href="https://blog.bithole.dev/pathtracer.html"></head><body><header><a href="/"><img src="static/images/banner.jpg" alt="blog banner"></a></header><main><p id="date" class="date">May 26, 2022</p><h1 style="margin-top: 0">Pathtracing with WebGPU</h1><nav><div id="contents"><p>Table of Contents</p><a href="#raytracing"><p>Raytracing</p></a></div><button id="show-toc">&#9776; Contents</button></nav><p>It&#39;s that time of year again, where I begin yet another ill-advised venture into computer graphics. Hooray!</p>
<p>Today, we&#39;re going to be creating a renderer based on a technique known as pathtracing. You may have heard the terms &quot;pathtracing&quot; and &quot;raytracing&quot; thrown around an awful lot recently, and with good reason; pathtracing is one of the simplest yet most robust methods for rendering photorealistic images. Let&#39;s explore how they work.</p>
<h1 id="raytracing">Raytracing <a class="section-link" href="#raytracing">&sect;</a></h1><p>What even <strong>is</strong> raytracing? Recall that the geometric definition of a ray is basically half of a line; it starts at a point, and extends infinitely in one direction. To trace a ray means to determine where it hits the objects in your scene. </p>
<p>From here, we can imagine how raytracing could be used to render a 3D scene. Consider how a pinhole camera works in real life:</p>
<p><img src="resources/pathtracer/pinhole-camera.png" alt="diagram of how a pinhole camera forms an image"></p>
<p>We can determine where the light hitting each point on the rear surface of the camera (the image plane) came from, because it had to have come through the pinhole. If we consider the pinhole to be extremely small (i.e. a point), we can draw a ray starting from the image plane and going through the pinhole into the scene.</p>
<p>The idea behind raytracing is actually fairly intuitive. Light travels in straight lines, after all, so we can use geometry to simulate rays of light moving throughout a scene to achieve highly realistic lighting effects using a fairly simple algorithm.</p>
<p>In case my sarcasm wasn&#39;t apparent, this is not the full picture. Light does not always travel in straight lines; it is a wave, meaning it is subject to funky behaviors such as diffraction and interference. However, the contribution of these effects to most scenes is minimal, so we can neglect them without noticeably affecting the fidelity of our renderer. Collectively, this set of simplifications is known as <a href="https://en.wikipedia.org/wiki/Geometrical_optics">geometrical optics</a>.</p>
<img id="img-view" style="display: none"><h1>Comments</h1><noscript><b>Please enable Javascript to view the comments on this post.</b></noscript><script src="https://utteranc.es/client.js" crossorigin="anonymous" repo="adrian154/blog" issue-term="title" label="blog-post-comments" theme="preferred-color-scheme"></script></main><footer><p>&copy; 2022 <a href="https://bithole.dev/">Adrian Zhang</a> &bull; <a href="rss.xml">rss</a> &bull; <a href="https://github.com/adrian154/blog">source</a> &bull; <a href="https://creativecommons.org/licenses/by-sa/3.0/legalcode">CC BY-SA 3.0</a></p></footer></body></html>