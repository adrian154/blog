<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Pan and Zoom Towards the Mouse</title><meta property="og:title" content="Pan and Zoom Towards the Mouse"><meta property="og:type" content="website"><meta property="og:description" content="For some godforsaken reason, implementing easy-to-use panning and zooming has always been my weakness. I am proud to say that I've finally conquered it. Here's my attempt to pass on what I learned."><meta name="description" content="For some godforsaken reason, implementing easy-to-use panning and zooming has always been my weakness. I am proud to say that I've finally conquered it. Here's my attempt to pass on what I learned."><link rel="canonical" href="https://blog.bithole.dev/pan-zoom.html"><link rel="stylesheet" href="static/stylesheets/main.css"><link rel="stylesheet" href="static/stylesheets/highlight-style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"></head><body><a href="/"><img src="static/images/banner0.jpg" alt="blog banner"></a><p id="date" class="date">January 23, 2022</p><h1 style="margin-top: 0">Pan and Zoom Towards the Mouse</h1><p>Panning and zooming. You&#39;ve probably done it thousands of times, but have you ever thought about the math that goes into it? Of course you haven&#39;t. No one has. No one wants to... until they have to.</p>
<p>This blogpost serves as a chronicle of my adventures in implementing comfortable panning and zooming controls. The issue first arose when I was working on the first iteration of my r/place clone, [Pixels] (warning: possibly NSFW). I implemented zooming and panning in a very na&iuml;ve way, and it <em>kinda</em> worked, but something irked me. Whenever you zoomed in, it would zoom towards the center of the canvas. This meant that if you wanted to view a specific section of the canvas up close, it wasn&#39;t enough to just scroll. You&#39;d have to keep dragging the canvas and re-centering the part you were interested in, and nobody likes that. And so, I set out on my journey to find a better way...</p>
<p>I&#39;ll skip the details of my painful struggle, and cut right to the chase. First, we need to understand the relationship between the two coordinate spaces that we will be working with, world space and screen space. This relationship is generally described using a <em>matrix</em>.</p>
<noscript><b>Please enable Javascript to view the comments on this post.</b></noscript><script src="https://utteranc.es/client.js" crossorigin="anonymous" repo="adrian154/blog" issue-term="title" label="blog-post-comments" theme="github-light"></script><p class="footnote">&copy; 2022 <a href="https://bithole.dev/">Adrian Zhang</a> &bull; <a href="rss.xml">rss</a> &bull; <a href="https://github.com/adrian154/blog">contribute</a> &bull; <a href="https://creativecommons.org/licenses/by-sa/3.0/legalcode">CC BY-SA 3.0</a></p></body></html>