<!DOCTYPE html><html lang="en" class="serif"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Minecraft Decompilation Guide</title><meta property="og:title" content="Minecraft Decompilation Guide"><meta property="og:type" content="website"><meta property="og:description" content="A tutorial on how to decompile modern versions of Minecraft using Mojang's official mappings."><meta name="description" content="A tutorial on how to decompile modern versions of Minecraft using Mojang's official mappings."><link rel="stylesheet" href="/stylesheets/highlight-style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><link rel="stylesheet" href="/stylesheets/main.css"><script>const loadSetting = name => {
    if(localStorage.getItem(name) === "true")
        document.documentElement.classList.add(name);
    else
        document.documentElement.classList.remove(name);
};

loadSetting("serif");
loadSetting("darkmode");</script><script defer src="/scripts/ui.js"></script><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="canonical" href="https://blog.bithole.dev/blogposts/decompiling-minecraft"></head><body><header><div id="header-inner"><p class="date">June 14, 2022</p><h1 style="margin-top: 0">Minecraft Decompilation Guide</h1><p id="more-posts"><a href="/">more posts</a></p></div></header><main><p>Sometimes, for one reason or another, you might want to take a look at Minecraft&#39;s source code to get a better understanding of the game&#39;s inner workings. Here&#39;s a guide on decompiling Minecraft.</p>
<h1 id="getting-the-files">Getting the Files <a class="section-link" href="#getting-the-files">&sect;</a></h1><p>To start, you need to obtain the game JAR as well as the deobfuscation mappings. I&#39;ve compiled links to all of these resources <a href="links.html">here</a>.</p>
<p>We need the deobfuscation mappings because Minecraft&#39;s source code is <em>obfuscated</em>, meaning that the names of classes and methods are set to random, meaningless strings to prevent reverse engineering. This is what the decompiled source looks like without deobfuscation: </p>
<p><img loading="lazy" src="obfuscated.png" alt="picture of obfuscated source"></p>
<h1 id="renaming">Renaming <a class="section-link" href="#renaming">&sect;</a></h1><p>The first thing we&#39;re gonna do is rename all the names in the game JAR using the obfuscation mappings. This can be accomplished using a tool called <a href="https://github.com/md-5/SpecialSource">SpecialSource</a>, which can be obtained through <a href="https://search.maven.org/remotecontent?filepath=net/md-5/SpecialSource/1.11.0/SpecialSource-1.11.0-shaded.jar">Maven</a>.
Here&#39;s the usage for remapping a JAR:</p>
<pre><code class="hljs">java -jar SpecialSource-1.11.0-shaded.jar -i &lt;original JAR&gt; -o &lt;output filename&gt; -m &lt;mappings filename&gt; --kill-lvt</code></pre><p>The <code>--kill-lvt</code> flag tells SpecialSource to ignore local variables. We include it since Mojang&#39;s official mappings do not include local variable names.</p>
<aside>

<p>If you plan on decompiling the server, note that you may need to run it first and then remap the JAR file that is saved in the <code>versions</code> folder. The original <code>server.jar</code> file just downloads the correct version of the server and starts it.</p>
</aside>

<h1 id="decompiling">Decompiling <a class="section-link" href="#decompiling">&sect;</a></h1><p>Once the JAR is remapped, it&#39;s ready to be decompiled. You have quite a few choices of decompilers, but there are really two that are worth using:</p>
<ul>
<li><a href="https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler/engine">Fernflower</a></li>
<li><a href="https://www.benf.org/other/cfr/">CFR</a></li>
</ul>
<p>Thankfully, in our case, the choice of decompiler is not <em>that</em> important since we don&#39;t need to recompile the game. I&#39;ll be using <a href="https://github.com/QuiltMC/quiltflower">Quiltflower</a> in today&#39;s decompilation. Quiltflower is a fork of Fernflower created for the <a href="https://quiltmc.org/">QuiltMC</a> project, with patches to produce more concise output in certain situations. Quiltflower is a drop-in replacement for Fernflower, so the following steps should work just as well if you&#39;re using Fernflower.</p>
<p>The first step is to obtain Quiltflower, which can be downloaded from its GitHub page. Next, we can begin the decompilation:</p>
<pre><code class="hljs">java -jar quiltflower-1.8.1.jar &lt;remapped JAR&gt; src/</code></pre><p>Once the decompiler is done, you&#39;re set!</p>
<aside>

<p>Fernflower/Quiltflower accept a great deal of options that control the decompilation process, which are documented on each project&#39;s <a href="https://github.com/QuiltMC/quiltflower">README</a>. If you find that the decompiled code does not meet your expectations, you may have to mess with the command line options that you&#39;re invoking the decompiler with.</p>
</aside>

<h1 id="epilogue">Epilogue <a class="section-link" href="#epilogue">&sect;</a></h1><p>If all of this seems like too much work to you, you&#39;re in luck: there&#39;s a project called <a href="https://github.com/hube12/DecompilerMC">DecompilerMC</a> which will fetch all the tools and files necessary to decompile any version of Minecraft with released mappings automatically. </p>
<p>For versions 1.12 and below, <a href="http://www.modcoderpack.com/">ModCoderPack</a> can be used to deobfuscate Minecraft with community-submitted mappings. Similarly, <a href="https://github.com/MinecraftForge/MCPConfig/tree/master/versions/release">MCPConfig</a> has mappings for 1.12 up to 1.19.</p>
<img id="img-view" style="display: none"><noscript><b>Please enable Javascript to view the comments on this post.</b></noscript><script src="https://utteranc.es/client.js" crossorigin="anonymous" repo="adrian154/blog" label="blog-post-comments" theme="preferred-color-scheme" issue-number="12"></script></main><footer><p>&copy; 2022 <a href="https://bithole.dev/">Adrian Zhang</a> &bull; <a href="/rss.xml">rss</a> &bull; <a href="https://github.com/adrian154/blog/tree/main/public/blogposts/decompiling-minecraft">source</a> &bull; <a href="https://creativecommons.org/licenses/by-sa/3.0/legalcode">CC BY-SA 3.0</a></p></footer></body></html>