<!DOCTYPE html><html lang="en" class="serif"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>What's Desaturating My Image?</title><meta property="og:title" content="What's Desaturating My Image?"><meta property="og:type" content="website"><meta property="og:description" content="It's probably a color profile issue."><meta name="description" content="It's probably a color profile issue."><meta property="og:image" content="https://blog.bithole.dev/blogposts/image-desaturation/comparison.jpg"><meta name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/stylesheets/highlight-style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><link rel="stylesheet" href="/stylesheets/main.css"><link rel="preconnect" href="https://rsms.me/"><link rel="stylesheet" href="https://rsms.me/inter/inter.css"><script>const loadSetting = name => {
    if(localStorage.getItem(name) === "true")
        document.documentElement.classList.add(name);
    else
        document.documentElement.classList.remove(name);
};

loadSetting("serif");
loadSetting("darkmode");</script><script defer src="/scripts/ui.js"></script><link rel="icon" type="image/png" sizes="16x16" href="/favicon.png"><link rel="canonical" href="https://blog.bithole.dev/blogposts/image-desaturation"></head><body><header><h1 id="post-title">What's Desaturating My Image?</h1><p class="date">Published October 3, 2022 &bull; <a href="/">more posts</a></p></header><main><p>Have you ever uploaded an image to Reddit or Discord, only to find that the result is markedly desaturated compared to the original?</p>
<p>It&#39;s not just you. In this article, I&#39;ll be exploring the technical reason for why this happens, and how you can avoid it.</p>
<h1 id="what39s-going-wrong">What&#39;s going wrong? <a class="section-link" href="#what39s-going-wrong">&sect;</a></h1><p>TL;DR: it&#39;s a color space issue. It is <em>not</em> due to &quot;compression&quot;.</p>
<p>Here&#39;s the scoop: every pixel in a digital image is represented as a set of numbers. How these numbers ought to be translated to actual colors is determined controlled by the <em>color space</em> of the image, so it&#39;s important that image files include information on what color space the image data represents.</p>
<p>Different color spaces exist for different applications. For example, most programs default to a color space called sRGB because it aligns closely with the colors that regular computer monitors are capable of displaying. However, high-end printers are often capable fo reproducing a water range of colors than sRGB can represent, so a broader color space called Adobe RGB is often preferred when working with images meant for print.</p>
<p>The problems arise when images with differing color spaces are improperly handled. Suppose I have this picture, which is in Adobe RGB.</p>
<img loading="lazy" style="max-width: 500px" src="adobe-rgb.jpg" alt="an example image (two markers being thrown up into the air), showing vibrant colors">

<p>This image contains colors that your monitor probably can&#39;t display. But your web browser recognizes that it needs to convert the colors to sRGB, meaning that all the colors your screen <em>can</em> display remain intact.</p>
<p>But when I upload the image to Discord, it ends up looking like this:</p>
<img loading="lazy" style="max-width: 500px" src="srgb-bad-convert.jpg" alt="the same image, now washed out and yucky">

<p>If you&#39;re having a hard time seeing the difference, here&#39;s a side-by-side comparison.</p>
<figure style="max-width: 500px">
    <img loading="lazy" src="comparison.jpg" alt="side-by-side comparison of original image and improper convert">
    <figcaption>Left: properly converted. Right: improperly converted.</figcaption>
</figure>

<p>The colors have been noticeably screwed up, because Discord takes the raw values from the image, slaps them into a new container, and labels them as sRGB without ever checking if it&#39;s <em>actually</em> sRGB. It&#39;s like trying to convert a measurement from inches to centimeters by just erasing &quot;inches&quot; and writing in &quot;centimeters&quot;; the end result is going to be wrong.</p>
<h2 id="solution">Solution <a class="section-link" href="#solution">&sect;</a></h2><p>To prevent this, you need to convert your images to sRGB before uploading them to websites that don&#39;t do proper color management. This process will depend on what program you are using. In Photoshop, make sure the &quot;Convert to sRGB&quot; option is checked when using the Export menu, or alternatively go Edit &rarr; Convert to Profile and select sRGB for Destination Space before clicking OK and saving.</p>
<img id="img-view" style="display: none"><noscript><b>Please enable Javascript to view the comments on this post.</b></noscript><script src="https://utteranc.es/client.js" crossorigin="anonymous" repo="adrian154/blog" issue-term="title" label="blog-post-comments" theme="github-light"></script></main><footer><p>&copy; 2022 <a href="https://bithole.dev/">Adrian Zhang</a> &bull; <a href="/rss.xml">rss</a> &bull; <a href="https://github.com/adrian154/blog/tree/main/public/blogposts/image-desaturation">source</a> &bull; <a href="https://creativecommons.org/licenses/by-sa/3.0/legalcode">CC BY-SA 3.0</a></p></footer></body></html>